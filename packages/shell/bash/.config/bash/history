#!/usr/bin/env bash

# History configuration
export HISTSIZE=10000
export HISTFILESIZE=20000
export HISTFILE="${XDG_STATE_HOME:-$HOME/.local/state}/bash/history"

# Create history directory if it doesn't exist
mkdir -p "$(dirname "$HISTFILE")"

# History options
shopt -s histappend        # Append to history file, don't overwrite
shopt -s cmdhist           # Save multi-line commands as one command
shopt -s histreedit        # Re-edit a history substitution line if it failed
shopt -s histverify        # Edit a recalled history line before executing

# Don't put duplicate lines or lines starting with space in the history
export HISTCONTROL=ignoreboth:erasedups

# Ignore common commands
export HISTIGNORE="ls:cd:cd -:pwd:exit:date:* --help:history:clear"

# Add timestamp to history
export HISTTIMEFORMAT="%Y-%m-%d %H:%M:%S "
